<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ゲーテの名言入力練習</title>
    <style>
        .container {
            width: 80%;
            margin: 0 auto;
        }

        .my {
            margin: 30px 0;
        }

        .color1 {
            color: blue;
        }

        #mondai span {
            color: red;
        }

        .input {
            width: 100%;
            font-size: 20px;
            color: red;
            padding: 10px;
        }

        a {
            color: blue;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>ゲーテの名言入力練習</h1>

        <p style="text-align: right;">
            <a href="./">ローマ字入力練習に戻る</a>
        </p>

        <h2 class="my color1" id="mondai"></h2>

        <div class="my">
            <input type="text" id="input" class="input">
        </div>

        <button id="rand_btn">違う問題</button>

        <p style="text-align: right;">
            ベストスコア <span id="best">0</span>
        </p>

    </div>

    <script>
        const arr = [
            "自分自身を信じてみるだけでいい。きっと、生きる道が見えてくる。",
            "焦ることは何の役にも立たない。後悔はなおさら役に立たない。焦りは過ちを増し、後悔は新しい後悔をつくる。",
            "バラの季節過ぎたる今にして初めて知る、バラのつぼみの何たるかを。遅れ咲きの茎に輝けるただ一輪、千紫万紅をつぐないて余れり。",
            "自分一人で石を持ち上げる気がなかったら、二人でも持ち上がらない。",
            "人間の最大の罪は不機嫌である。",
            "本当に不幸なのは、できることを未完のまま放り出し、理解もしていないことをやり始めてしまう人々だ。彼らがやがて嘆くのも無理はない。",
            "本当の自由な心とは「認める」ということである。",
            "毎日を生きよ。あなたの人生が始まった時のように。",
            "あなたにできること、あるいはできると夢見ていることがあれば、今すぐ始めなさい。向こう見ずは天才であり、力であり、魔法です。",
            "すべてを今すぐに知ろうとは無理なこと。雪が解ければ見えてくる。",
            "どこに行こうとしているのかわからないのに、決して遠くまで行けるものではない。",
            "何事も初めは難しい、ということわざは、ある意味では真理かもしれないが、より一般的には、何事も初めは容易だ。最後の段階に登ることこそ一番難しく、これに登り得る人間は稀だ、といえる。",
            "我々は高みに憧れるが、歩き出すことには無関心だ。山々を望みながら、平らな道を歩きたがる。",
            "愚者と賢者はともに害がない。半端な愚者と半端な賢者が、いちばん危険なのである。",
            "人間を堕落に導くもっとも大きな悪魔は、自分自身を嫌う心である。",
            "若くして求めれば老いて豊かである。",
            "人は喧嘩する時、双方とも悪いと感じている。",
            "人間は常に迷っている。迷っている間は常に何かを求めている。",
            "人生において重要なのは生きることであって、生きた結果ではない。",
            "長いこと考え込んでいる者が、いつも最善のものを選ぶわけではない。",
            "とにかく、とりかかれば心が燃え上がるし、続けていれば仕事は完成する。",
            "あらゆる階級を通じて、目立って気高い人は誰か。どんな長所を持っていても、常に心の平衡を失わない人だ。",
            "その夢を失くして、生きてゆけるかどうかで考えなさい。",
            "われわれは結局何を目ざすべきか。世の中を知り、それを軽蔑しないことだ。",
            "一つのことが万人にあてはまりはしない。めいめい自分にふさわしい流儀を求めよ。",
            "拒絶するのに多くの言葉を費やす必要はない。相手はただ否という一言を聞けばよいのだから。",
            "現実を直視する心に、本当の理想が生まれる。",
            "光が多いところでは、影も強くなる。",
            "自由でないのに自由であると考えている人間ほど、奴隷になっている。",
            "新聞を読まなくなってから、私は心がのびのびし、実に気持ちが良いです。人々は他人のすることばかり気にかけて、自分の手近の義務を忘れがちです。",
            "真の知識は経験あるのみ。",
            "人が旅をするのは、到着するためではありません。それは旅が楽しいからなのです。",
            "性に合わない人たちとつきあってこそ、うまくやって行くために自制しなければならないし、それを通して、われわれの心の中にあるいろいろ違った側面が刺激されて、発展し完成するのであって、やがて、誰とぶつかってもびくともしないようになるわけだ。",
            "生まれが同時代、仕事が同業、といった身近な人から学ぶ必要は無い。何世紀も普遍の価値、普遍の名声を保ってきた作品を持つ、過去の偉大な人物にこそ学ぶことだ。",
            "名誉を失っても、もともとなかったと思えば生きていける。財産を失ってもまたつくればよい。しかし勇気を失ったら、生きている値打ちがない。",
            "「やる気になった」というだけでは、道半ば。",
            "国王であれ、農民であれ、家庭に平和を見いだせる者が、もっとも幸せである。",
            "あの人が私を愛してから、自分が自分にとってどれほど価値あるものになったことだろう。",
            "初恋が唯一の恋愛だ、といわれるのは至言である。というのは、第二の恋愛では、また第二の恋愛によって、恋愛の最高の意味が失われるからである。",
            "女は決して自分の自然な姿を見せない。なぜならば女は、自然から生みつけられたままでもきっと人から好かれるものだ、といういうふうに考えることのできる男ほどのうぬぼれがないからである。",
            "女性を力強く守ることのできる者だけが、女性の愛願を得るに値する。",
            "自分を買いかぶらない者は、本人が信じているよりもはるかに優れている。",
            "何をなすべきか、いかになすべきか、をのみ考えていたら、何もしないうちにどれだけ多くの歳月がたってしまうことだろう。",
            "いつかは目標に通じる歩みを一歩一歩と運んでいくのでは足りない。その一歩一歩が目標なのだし、一歩そのものが価値あるものでなければならないよ。",
            "この動揺する時代に自分までぐらつくのは災いを増すばかりだ。おのれの志を守ってゆずらぬ者だけが世の中を作り上げて行くのだ。",
            "希望は風雨の夜に早くも朝紅をさす。",
            "私個人は多年人に噛みつかれることになれているので、経験からこう言いたいと思います。たとえ人の反対を受けても、自分の声がかき消されるなどという心配はさらさらない。ただ焦ってはいけない。つねに行動を続け、時に語り合うこと。そうすれば、われわれの考え方に賛成する人がしまいには結構たくさん出てきます。",
            "自分を実際以上に考えることと、真価以下に見積もることは、共に大きな誤りである。",
            "思慮深い人は、決して敵を侮らない。",
            "若いうちの誤りは、きわめて結構だ。ただ、それを年をとるまで引きずってはならない。",
            "種をまくことは、取り入れほど困難ではない。",
            "小さい夢は見るな。それには人の心を動かす力がないからだ。",
            "人は少ししか知らぬ場合にのみ、知っているなどと言えるのです。多く知るにつれ、次第に疑いが生じて来るものです。",
            "人をほめれば、その人と対等になれる。",
            "人間は努力する限り過ちを犯すものだ。",
            "世界は粥で造られてはいない。君等は怠けてぐずぐずするな。固いものは噛まねばならない。喉がつまるか消化するか、二つに一つだ。",
            "生きている間は、なにごとも延期するな。なんじの一生は、実行また実行であれ。",
            "戦の前に敵を見くびるのは愚かなことであり、勝利のあとで敵に追い討ちをかけるのは卑怯なことである。",
            "大切なことは、大志を抱き、それを成し遂げる技能と忍耐を持つということである。その他はいずれも重要ではない。",
            "年をとるということが既に、新しい仕事につくことなのだ。すべての事情は変わって行く。我々は活動することを全然やめるか、進んで自覚をもって、新しい役割を引き受けるか、どちらかを選ぶほかない。",
            "立派な目標と偉大な仕事をやり遂げる道は二つしかない。体力と耐久力である。体力はほんの一握りの恵まれた人間のものである。しかし厳しく身を守り、常に耐え抜くことは、ごく弱小な者でもできるし、たいていの場合目標を達成する。これは、彼の無言の力が時が経つにつれ、何ものにあってもへこたれないほど強力になるからだ。",
            "神は、移ろいやすいものだけを美しくした。",
            "卑怯者は、安全なときだけ居丈高になる。",
            "愛する人の欠点を愛することのできない者は、真に愛しているとは言えない。",
            "人間は現在がとても価値のあることを知らない。ただなんとなく未来のよりよい日を願望し、いたずらに過去とつれ立って嬌態を演じている。",
            "ある種の欠点は、個性の存在にとって必要である。",
            "みずから勇敢に戦った者にして初めて英雄を心からほめたたえるだろう。暑さ寒さに苦しんだ者でなければ、人間の値打ちなんかわかりようがない。",
            "我々の犯すひとつの大きな誤謬は、原因を常に結果の間近にあり、と考えることにある。",
            "気持ちよい生活を作ろうと思ったら、済んだことをくよくよせぬこと、めったに腹を立てぬこと、いつも現在を楽しむこと、とりわけ、人を憎まぬこと、未来を神にまかせること。",
            "高尚なる男性は、女性の忠告によって、いっそう高尚になる。",
            "三千年の歴史から学ぶことを知らぬ者は、知ることもなく、闇の中にいよ、その日その日を生きるとも。",
            "自分が経験したことは理解していると思いこんでいる人がたくさんいる。",
            "十歳にして菓子に動かされ、二十歳にしては恋人に、三十歳にして快楽に、四十歳にしては野心に、五十歳にしては貪欲に動かされる。いつになったら人間は、ただ知性のみを追って進むようになるのであろうか。",
            "人にだまされることは決してない。自分にだまされるのだ。",
            "人はいかに遇されるかによって、それなりの人物になっていく。",
            "人間には多くの宝、多くの楽しみが与えられている。しかし人生最大の幸福、最も豊かな収穫は、なんといっても善良軽快な心だ。",
            "天には星がなければならない。大地には花がなければならない。そして、人間には愛がなければならない。",
            "真理はたいまつである。しかも巨大なたいまつである。だから私たちはみんな目を細めてそのそばを通り過ぎようとするのだ。やけどする事を恐れて。",
            "なぜ、このように悪口が絶えないのか。人々は他人のちょっとした功績でも認めると、自分の品位が下がるように思っている。",
            "考えている事を考え抜く事ができない時のみ、人は本当に考えているのだ。",
            "自分の心を支配できぬ者に限って、とかく隣人の意志を支配したがるものだ。",
            "自分自身に命令しない者は、いつになっても下僕にとどまる。",
            "人生に成功する秘訣は、自分が好む仕事をすることではなく、自分のやっている仕事を好きになることである。",
            "大切なことを、つまらぬものの犠牲にしてはならぬ。",
            "憎しみは積極的な不満で、嫉妬は消極的な不満である。したがって、嫉妬がすぐに憎しみに変わっても不思議はない。",
            "行為の最中にも思考の余地がある。",
            "うまく使えば、時間はいつも十分にある。",
            "すべてを自分自身のおかげだと思うとしたら、それ以上進歩はできない。",
            "どんな方法で世界を知ろうと、明と暗の両面があるという事実は変わらない。",
            "臆病な考えや、不安なためらいや、女々しい足ぶみや、あわれな訴えは、少しも悲惨を救うことができぬ。決して君を自由にせぬ。",
            "控え目な者は忍耐せねばならぬ。図々しい者は苦悩せねばならぬ。図々しくても控えめにしても、結局負い目を受けることは同じだ。",
            "夕方、私は千匹のハエを殺した。それなのに、早朝、私は一匹のハエに起こされた。",
            "自分自身の道を迷って歩いている子供や青年のほうが、他人の道を間違いなく歩いている人々よりも好ましく思う。",
            "人はあまりにもつまらぬものを読みすぎているよ。時間を浪費するだけで、何も得るところがない。そもそも人は、いつも驚嘆するものだけを読むべきだ。",
            "人間は、なんと知ることの早く、おこなうことの遅い生き物だろう！",
            "人々は理解できぬことを低く見積もる。",
            "節度を持った人だけが豊かさを感じる。",
            "努力する人間の困難な問題は、先輩の功を認め、しかも彼らの欠点によって妨げられないことである。",
            "発言し、活動しなければならない。多数派に属するか、少数派に属するかはまったくどうでもいいことだ。",
            "批判に対しては、身を守ることも抵抗することもできない。それをものともせずに行動しなければならない。そうすれば批判もやむなくだんだんにそれを認めるようになる。",
            "不可能と思えることであっても、まるで可能であるかのように扱うことだ。",
            "忘恩はつねに一種の弱さである。わたしは有能な人たちが恩知らずであった例を知らない。",
            "本気でものを言うつもりなら、言葉を飾る必要があろうか。",
            "逸話集や格言集は社会人にとって最大の宝である。もし前者を適当な場所で会話の中に混ぜ、後者を適切な場合に想起するならば。",
            "他人を自分に同調させようなどと望むのは、そもそも馬鹿げた話だよ。",
            "つねによい目的を見失わずに努力を続ける限り、最後には必ず救われる。",
            "虚栄は軽薄な美人に最もふさわしい。",
            "ただ、はつらつとした活動によってのみ、不愉快なことは克服される。",
            "ひそかに清く自己を保存せよ。自分の周りは荒れるにまかせよ。",
            "癖というものは抜けないものだ。おまえの特性の方を伸ばせばいいのだ。",
            "一貫したものは環境においてでなく、自分みずからのうちに求めよ。",
            "結婚生活はすべての文化の始めであり、頂上である。それは乱暴者を穏やかにし、教養の高い者にとっては、その温情を証明する最上の機会である。",
            "今の人間は偉大なもののあらさがしをしては喜んでいる。偉大なものを攻撃すれば、その分、自分が偉く思われると信じているのだ。ばかばかしい！偉大なものを尊敬してこそ、その分、自分も高まるのだ。",
            "支配したり服従したりしないで、それでいて、何者かであり得る人間だけが、本当に幸福であり、偉大なのだ。",
            "人はただ自分の愛する人からだけ学ぶものだ。",
            "同じ経験を繰り返して話をする人に言えることだが、彼らは経験すべきことの半分も自分が経験していないことを、いつまでもわかっていない。",
            "涙とともにパンを食べたことのある者でなければ、人生の本当の味はわからない。",
            "誰一人知る人もない人ごみの中をかき分けていくときほど、強く孤独を感じることはない。",
            "愛することが苦手な男は、せめてお世辞の言い方くらいは身につけておいた方がいい。",
            "何も出来ない日や時には、後になって楽しめないようなものを作ろうとするより、ぶらぶらして過ごしたり、寝て過ごす方がいい。",
            "自分も犯したことのある過ちなら、人が犯しても好感をいだくものだ。",
            "人は各種各様の旅をして、結局、自分が持っていたものだけを持って帰る。",
            "大衆は有能な人を欠かすことができない。しかも有能な人は大衆にとって常に重荷である。",
            "不正なことが不正な方法で除かれるよりは、不正が行われているほうがまだいい。",
            "自分の方からできるだけ環境を支配するが、環境からはできるだけ支配されない。人間の最大の価値はおそらくそこにある。",
            "親として、自分自身に欠けてたものを息子が実現していくのを見たいと思うのは、全ての父親の慎ましい願いなのである。",
            "人間も本当に下等になると、ついに他人の不幸や失敗を喜ぶこと以外の関心をなくしてしまう。",
            "生の歓びは大きいけれども、自覚ある生の歓びはさらに大きい。",
            "自分の一生の終わりを初めと結びつけることのできる人は最も幸福である。",
            "前進をしない人は、後退をしているのだ。",
        ]


        const mondai = document.getElementById("mondai")
        const input = document.getElementById("input")
        const rand_btn = document.getElementById("rand_btn")
        const best = document.getElementById("best")

        let len, index, genzai, mode, startTime, completed
        let best_score = 0

        function init() {
            completed = false
            len = arr.length
            index = Math.floor(Math.random() * len)
            genzai = arr[index]
            mondai.innerHTML = genzai
            mode = false
            startTime = Date.now()
            input.focus()
        }

        function next() {
            completed = false
            if (index === len - 1) {
                index = 0
            } else {
                index++
            }
            genzai = arr[index]
            mondai.innerHTML = genzai
            mode = false
            startTime = Date.now()
            input.value = ""
            input.focus()
        }

        function score_update() {
            completed = true
            const elapsedTime = Math.floor((Date.now() - startTime) / 1000)
            const moji = genzai.length
            const score = (moji / elapsedTime).toFixed(2)
            if (score > best_score) {
                best_score = score
                best.innerHTML = best_score
            }
            mondai.innerHTML = `結果は、${score}(文字/秒)でした。次の問題に行きます。`
        }

        input.addEventListener('keydown', () => {
            let v = input.value
            // 全部入力していたら1秒間に何文字入力できたかを表示して次の問題に行く
            if (genzai === v) {
                score_update()
                setTimeout(() => {
                    next()
                }, 5000)
            }
        })

        input.addEventListener('keyup', () => {
            let v = input.value
            if (!completed && !mode) {
                mondai.innerHTML = genzai
                if (genzai.startsWith(v)) {
                    mondai.innerHTML = genzai.replace(v, `<span>${v}</span>`)
                }
            }
        })

        // compositionstart イベントは、 IME などのテキスト変換システムが新しい変換セッションを開始した時に発生します
        input.addEventListener('compositionstart', () => {
            mode = true
        })

        input.addEventListener('compositionend', () => {
            mode = false
        })

        rand_btn.addEventListener('click', () => {
            init()
        })

        // 初回読み込み
        window.addEventListener('DOMContentLoaded', () => {
            init()
        })

    </script>
</body>

</html>